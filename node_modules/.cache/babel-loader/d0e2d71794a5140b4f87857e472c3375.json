{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uC7A5\\uC724\\uC131\\\\OneDrive - \\uACBD\\uBD81\\uB300\\uD559\\uAD50\\\\\\uBB38\\uC11C\\\\GitHub\\\\GDSC-KNU-fe2\\\\src\\\\component\\\\message\\\\components\\\\SendMessageBox.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SendMessageBox(props) {\n  _s();\n\n  const {\n    user_account,\n    targetUser,\n    targetUserProfile,\n    roomNames,\n    messageData,\n    setMessageData\n  } = props;\n  const [message, setMessage] = useState(\"\");\n  const [scroll, setScroll] = useState(\"0\");\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({\n      block: \"end\"\n    });\n  };\n\n  useEffect(scrollToBottom, [messageData]);\n\n  const onScroll = e => {\n    e.stopPropagation();\n    const scrollTop = messagesEndRef.current.scrollTop;\n    setScroll(scrollTop);\n  };\n\n  const imageStyle = {\n    width: \"35px\",\n    height: \"35px\",\n    marginRight: \"15px\",\n    borderRadius: \"50%\"\n  };\n  return /*#__PURE__*/_jsxDEV(SendMessageBoxs, {\n    children: /*#__PURE__*/_jsxDEV(SendMessageContainer, {\n      children: [/*#__PURE__*/_jsxDEV(UserInfoContainer, {\n        children: [/*#__PURE__*/_jsxDEV(UserProfile, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: targetUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"icon far fa-question-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ScrollContainer, {\n        onScroll: onScroll,\n        children: [messageData === null || messageData === void 0 ? void 0 : messageData.map((item, index) => {\n          const {\n            created_at,\n            message\n          } = item;\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(MessageContainer, {\n              children: /*#__PURE__*/_jsxDEV(MessageList, {\n                children: item.user_account === user_account ? /*#__PURE__*/_jsxDEV(PostUserContainer, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: created_at\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 39\n                  }, this), /*#__PURE__*/_jsxDEV(PostUser, {\n                    need: message.length > 20,\n                    children: /*#__PURE__*/_jsxDEV(Span, {\n                      children: message\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 56,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 55,\n                    columnNumber: 39\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 37\n                }, this) : /*#__PURE__*/_jsxDEV(SendUserContainer, {\n                  children: [/*#__PURE__*/_jsxDEV(SendUser, {\n                    need: message.length > 20,\n                    children: /*#__PURE__*/_jsxDEV(Span, {\n                      children: message\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 62,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 39\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: created_at\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 39\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 33\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 31\n            }, this)\n          }, void 0, false);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SendMessageBox, \"TFSnOsS6lK6ajcg4B6smofl/cZs=\");\n\n_c = SendMessageBox;\nexport default SendMessageBox;\nconst SendMessageBoxs = styled.div`\n  width: 650px;\n  height: 60px;\n  border-bottom: 1px solid #c7c7c7;\n`;\n_c2 = SendMessageBoxs;\nconst SendMessageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 830px;\n`;\n_c3 = SendMessageContainer;\nconst ScrollContainer = styled.div`\n  height: 680px;\n  overflow: scroll;\n  overflow-x: hidden;\n`;\n_c4 = ScrollContainer;\nconst MessageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 550px;\n  margin: 10px auto;\n`;\n_c5 = MessageContainer;\nconst MessageList = styled.div``;\n_c6 = MessageList;\nconst PostUserContainer = styled.div`\n  display: flex;\n  float: right;\n  align-items: flex-end;\n  p {\n    font-size: 11px;\n    color: #5c5c5c;\n    display: none;\n  }\n  &:hover p {\n    display: block;\n  }\n`;\n_c7 = PostUserContainer;\nconst PostUser = styled.div`\n  float: right;\n  word-wrap: ${props => props.need && \"break-word\"};\n  max-width: ${props => props.need && \"240px\"};\n  max-height: ${props => props.need && \"100%\"};\n  border-radius: 20px;\n  background-color: #f2f2f2;\n  padding: 8px 12px;\n`;\n_c8 = PostUser;\nconst Span = styled.span`\n  font-size: 14px;\n`;\n_c9 = Span;\nconst SendUserContainer = styled.div`\n  display: flex;\n  float: left;\n  align-items: flex-end;\n  p {\n    font-size: 11px;\n    color: #5c5c5c;\n    display: none;\n  }\n  &:hover p {\n    display: block;\n  }\n`;\n_c10 = SendUserContainer;\nconst SendUser = styled.div`\n  float: left;\n  word-wrap: ${props => props.need && \"break-word\"};\n  max-width: ${props => props.need && \"240px\"};\n  max-height: ${props => props.need && \"100%\"};\n  border-radius: 20px;\n  border: 1px solid #e0e0e0;\n  background-color: #fff;\n  padding: 8px 12px;\n`;\n_c11 = SendUser;\nconst UserInfoContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px auto;\n  width: 90%;\n  .icon {\n    margin-top: 4px;\n    font-size: 25px;\n  }\n`;\n_c12 = UserInfoContainer;\nconst UserProfile = styled.div`\n  display: flex;\n  align-items: center;\n  span {\n    margin-left: 15px;\n    font-weight: bold;\n  }\n`;\n_c13 = UserProfile;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13;\n\n$RefreshReg$(_c, \"SendMessageBox\");\n$RefreshReg$(_c2, \"SendMessageBoxs\");\n$RefreshReg$(_c3, \"SendMessageContainer\");\n$RefreshReg$(_c4, \"ScrollContainer\");\n$RefreshReg$(_c5, \"MessageContainer\");\n$RefreshReg$(_c6, \"MessageList\");\n$RefreshReg$(_c7, \"PostUserContainer\");\n$RefreshReg$(_c8, \"PostUser\");\n$RefreshReg$(_c9, \"Span\");\n$RefreshReg$(_c10, \"SendUserContainer\");\n$RefreshReg$(_c11, \"SendUser\");\n$RefreshReg$(_c12, \"UserInfoContainer\");\n$RefreshReg$(_c13, \"UserProfile\");","map":{"version":3,"sources":["C:/Users/장윤성/OneDrive - 경북대학교/문서/GitHub/GDSC-KNU-fe2/src/component/message/components/SendMessageBox.js"],"names":["React","useEffect","useState","useRef","styled","SendMessageBox","props","user_account","targetUser","targetUserProfile","roomNames","messageData","setMessageData","message","setMessage","scroll","setScroll","messagesEndRef","scrollToBottom","current","scrollIntoView","block","onScroll","e","stopPropagation","scrollTop","imageStyle","width","height","marginRight","borderRadius","map","item","index","created_at","length","SendMessageBoxs","div","SendMessageContainer","ScrollContainer","MessageContainer","MessageList","PostUserContainer","PostUser","need","Span","span","SendUserContainer","SendUser","UserInfoContainer","UserProfile"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef} from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nfunction SendMessageBox(props){\r\n    const{\r\n        user_account,\r\n        targetUser,\r\n        targetUserProfile,\r\n        roomNames,\r\n        messageData,\r\n        setMessageData,\r\n    } = props;\r\n    const [message, setMessage] = useState(\"\");\r\n    const [scroll, setScroll] = useState(\"0\");\r\n\r\n    const messagesEndRef = useRef(null);\r\n\r\n    const scrollToBottom = () =>{\r\n        messagesEndRef.current.scrollIntoView({block : \"end\"});\r\n    };\r\n    useEffect(scrollToBottom, [messageData]);\r\n\r\n  const onScroll = (e) => {\r\n    e.stopPropagation();\r\n    const scrollTop = messagesEndRef.current.scrollTop;\r\n\r\n    setScroll(scrollTop);\r\n  };\r\n    const imageStyle = {\r\n        width : \"35px\",\r\n        height : \"35px\",\r\n        marginRight : \"15px\",\r\n        borderRadius : \"50%\",\r\n    };\r\n\r\n    return (\r\n        <SendMessageBoxs>\r\n            <SendMessageContainer>\r\n                <UserInfoContainer>\r\n                    <UserProfile>\r\n                        <span>{targetUser}</span>\r\n                    </UserProfile>\r\n                    <i className = \"icon far fa-question-circle\"/>\r\n                </UserInfoContainer>\r\n                <ScrollContainer onScroll = {onScroll}>\r\n                    {messageData?.map((item,index) => {\r\n                        const {created_at, message} = item;\r\n                        return (\r\n                            <>\r\n                              <MessageContainer key={index}>\r\n                                <MessageList>\r\n                                  {item.user_account === user_account ? (\r\n                                    <PostUserContainer>\r\n                                      <p>{created_at}</p>\r\n                                      <PostUser need={message.length > 20}>\r\n                                        <Span>{message}</Span>\r\n                                      </PostUser>\r\n                                    </PostUserContainer>\r\n                                  ) : (\r\n                                    <SendUserContainer>\r\n                                      <SendUser need={message.length > 20}>\r\n                                        <Span>{message}</Span>\r\n                                      </SendUser>\r\n                                      <p>{created_at}</p>\r\n                                    </SendUserContainer>\r\n                                  )}\r\n                                </MessageList>\r\n                              </MessageContainer>\r\n                            </>\r\n                        );\r\n                    })}\r\n                    <div ref = {messagesEndRef}/>\r\n                </ScrollContainer>\r\n            </SendMessageContainer>\r\n        </SendMessageBoxs>\r\n    )\r\n}\r\n\r\nexport default SendMessageBox;\r\n\r\nconst SendMessageBoxs = styled.div`\r\n  width: 650px;\r\n  height: 60px;\r\n  border-bottom: 1px solid #c7c7c7;\r\n`;\r\n\r\nconst SendMessageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 830px;\r\n`;\r\n\r\nconst ScrollContainer = styled.div`\r\n  height: 680px;\r\n  overflow: scroll;\r\n  overflow-x: hidden;\r\n`;\r\n\r\nconst MessageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: 550px;\r\n  margin: 10px auto;\r\n`;\r\n\r\nconst MessageList = styled.div``;\r\n\r\nconst PostUserContainer = styled.div`\r\n  display: flex;\r\n  float: right;\r\n  align-items: flex-end;\r\n  p {\r\n    font-size: 11px;\r\n    color: #5c5c5c;\r\n    display: none;\r\n  }\r\n  &:hover p {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nconst PostUser = styled.div`\r\n  float: right;\r\n  word-wrap: ${(props) => props.need && \"break-word\"};\r\n  max-width: ${(props) => props.need && \"240px\"};\r\n  max-height: ${(props) => props.need && \"100%\"};\r\n  border-radius: 20px;\r\n  background-color: #f2f2f2;\r\n  padding: 8px 12px;\r\n`;\r\n\r\nconst Span = styled.span`\r\n  font-size: 14px;\r\n`;\r\n\r\nconst SendUserContainer = styled.div`\r\n  display: flex;\r\n  float: left;\r\n  align-items: flex-end;\r\n  p {\r\n    font-size: 11px;\r\n    color: #5c5c5c;\r\n    display: none;\r\n  }\r\n  &:hover p {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nconst SendUser = styled.div`\r\n  float: left;\r\n  word-wrap: ${(props) => props.need && \"break-word\"};\r\n  max-width: ${(props) => props.need && \"240px\"};\r\n  max-height: ${(props) => props.need && \"100%\"};\r\n  border-radius: 20px;\r\n  border: 1px solid #e0e0e0;\r\n  background-color: #fff;\r\n  padding: 8px 12px;\r\n`;\r\n\r\nconst UserInfoContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 10px auto;\r\n  width: 90%;\r\n  .icon {\r\n    margin-top: 4px;\r\n    font-size: 25px;\r\n  }\r\n`;\r\n\r\nconst UserProfile = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  span {\r\n    margin-left: 15px;\r\n    font-weight: bold;\r\n  }\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}